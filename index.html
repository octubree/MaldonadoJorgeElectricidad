<!DOCTYPE html>
<html lang="es">

<head>

  <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Electrician",
        "name": "Jorge Electricidad",
        "description": "Electricista profesional en Maldonado y Punta del Este. Servicios de instalaciones, reparaciones, urgencias, domótica y más. Trabajos con firma de UTE.",
        "telephone": "+59894588012",
        "url": "https://jorge-electricidad.net/",
        "image": "https://ellwinan.sirv.com/electricidad.png?profile=Example&w=192&h=192",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Maldonado",
          "addressRegion": "Maldonado",
          "postalCode": "20000",
          "addressCountry": "UY"
        },
        "areaServed": [
          {
            "@type": "City",
            "name": "Maldonado"
          },
          {
            "@type": "City",
            "name": "Punta del Este"
          }
        ],
        "openingHoursSpecification": [
          {
            "@type": "OpeningHoursSpecification",
            "dayOfWeek": [
              "Monday",
              "Tuesday",
              "Wednesday",
              "Thursday",
              "Friday"
            ],
            "opens": "08:00",
            "closes": "17:00"
          },
          {
            "@type": "OpeningHoursSpecification",
            "dayOfWeek": [
              "Monday",
              "Tuesday",
              "Wednesday",
              "Thursday",
              "Friday"
            ],
            "opens": "08:00",
            "closes": "20:00",
            "validFrom": "12-01",
            "validThrough": "02-28"
          }
        ],
        "sameAs": [
          "https://g.co/kgs/S6hMGZq"
        ]
      }
      </script>

  <!-- MONITOREO DIFERENTE A GOOGLE ANALITYC -->
  <script data-goatcounter="https://maldonado-electricidad.goatcounter.com/count" async
    src="//gc.zgo.at/count.js"></script>


  <!-- FAVICON IMAGEN  -->
  <link rel="icon" href="https://ellwinan.sirv.com/electricidad.png?profile=Example&w=192&h=192" type="image/x-icon">


  <!-- INICIA PRELOAD  -->

  <!--  Se añadieron enlaces 'preload' para optimizar la carga de archivos CSS. 
      Esto mejora el rendimiento del sitio al permitir que el navegador cargue 
      los estilos de manera más eficiente.  -->

  <link rel="preload" href="assets/vendor/bootstrap/css/bootstrap.min.css" as="style" onload="this.rel='stylesheet'">
  <noscript>
    <link rel="stylesheet" href="assets/vendor/bootstrap/css/bootstrap.min.css">
  </noscript>

  <link rel="preload" href="assets/vendor/bootstrap-icons/bootstrap-icons.css" as="style" onload="this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="assets/vendor/bootstrap-icons/bootstrap-icons.css"></noscript>

  <link rel="preload" href="assets/vendor/boxicons/css/boxicons.min.css" as="style" onload="this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="assets/vendor/boxicons/css/boxicons.min.css"></noscript>

  <link rel="preload" href="assets/vendor/glightbox/css/glightbox.min.css" as="style" onload="this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="assets/vendor/glightbox/css/glightbox.min.css"></noscript>

  <link rel="preload" href="assets/vendor/remixicon/remixicon.css" as="style" onload="this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="assets/vendor/remixicon/remixicon.css"></noscript>

  <link rel="preload" href="assets/vendor/swiper/swiper-bundle.min.css" as="style" onload="this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="assets/vendor/swiper/swiper-bundle.min.css"></noscript>

  <!-- Template Main CSS File -->
  <link rel="preload" href="assets/css/style.css" as="style" onload="this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="assets/css/style.css"></noscript>

  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Anton&family=Tilt+Neon&display=swap">
  
  <!-- FIN DE PRECARGA DE CSS -->

  <style>
    h2:nth-child(1) {
      font-family: 'Tilt Neon', sans-serif;
    }
  </style>




  <!-- =======================================================
    * Template Name: Personal
    * Updated: Mar 10 2023 with Bootstrap v5.2.3
    * Template URL: https://bootstrapmade.com/personal-free-resume-bootstrap-template/
    * Author: BootstrapMade.com
    * License: https://bootstrapmade.com/license/
    ======================================================== -->






  <meta name="google-site-verification" content="HMZdDYgWRlop5Ooj4WUFEH6X5VGgcTu_WQ78TJCrnr8" />

  <!-- Google Tag Manager (Delayed Load) -->
  <script>
    const loadGTM = () => {
      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-W36Z4TM2');
      
      // Remove the event listeners once GTM is loaded
      ['scroll', 'mousemove', 'touchstart', 'click'].forEach(type => 
        window.removeEventListener(type, loadGTM, { once: true })
      );
    };

    // Add event listeners for user interaction
    ['scroll', 'mousemove', 'touchstart', 'click'].forEach(type => 
      window.addEventListener(type, loadGTM, { once: true, passive: true })
    );
  </script>
  <!-- End Google Tag Manager (Delayed Load) -->

  <style>
    /* Para dispositivos móviles */
    @media (max-width: 767px) {
      .mobile-only>img {
        display: block !important;
        max-width: 200px;
        max-height: 400px;
        background: transparent;
        padding: 1px;
        box-sizing: border-box;
        position: relative !important;
      }

      .desktop-only {
        display: none !important;
      }
    }

    /* Para escritorios */
    @media (min-width: 768px) {
      .mobile-only>img {
        display: none !important;
      }

      .desktop-only {
        display: block !important;
      }
    }
  </style>


</head>



<body>

  <!-- BANNER EFECTO  -->
  <!-- <div class="banner">
  <p>HOY 25 ABIERTO TARIFA DOBLE </p>
</div> -->
  <!-- TERMINA BANNER EFECTO -->

  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W36Z4TM2" height="0" width="0"
      style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->


  <!-- NUMERO DE TELEFONO EN LA ESQUINA SUPERIOR IZQUIERDA  EN PANTALLAS GRANDES-->



  <div id="numero">
    <div class="container-fluid">
      <div class="btn btn-lg d-inline-block">
        <h2 class="mi-texto">094-588-012</h2>
      </div>
    </div>
  </div>
  <!-- TERMINA NUMERO TELEFONO EN PANTALLAS GRANDES -->




  <!-- BOTON LLAMADAS Y WHATSAPP EN TELÈFNOS--- -->
  <div id="contacto">
    <div style="display: inline-block; margin: 10px; padding: 15px;">
      <div>
        <a href="tel:+59894588012" class="btn btn-primary btn-lg"
          style="display: flex; align-items: flex-end; justify-content: flex-end; font-size: 18px; font-family: 'Anton', sans-serif; color:white; text-shadow: 1px 1px black;"
          onclick="gtag('event', 'llamada_clic', { 'event_category': 'Boton', 'event_label': 'Llamada' });">
          <span>094588012 |&nbsp;</span> <span>Clic y Llámame</span><span style="margin-right: 10px;"></span>
        </a>
      </div>

      <div>
        <a href="https://wa.me/59894588012" style="display: inline-block; margin: 30px;">
          <img src="https://ellwinan.sirv.com/WHATSAPP.png?format=webp" width="50" height="50"
            alt="Botón de WhatsApp para chatear con electricista en Maldonado">
          <span>Clic y Chatea&nbsp;</span><span style="margin-right: 10px;"></span>

        </a>
      </div>
    </div>
  </div>







  <!-- <div id="gif-container">
 <img src="https://media.giphy.com/media/YpZcvm40ZOdxFhJ3ti/giphy.gif" alt="Flechas apuntando hacia abajo">
                              </div> -->

  <!-- ======= Header ======= -->
  <header id="header">
    <div class="container">


      <h1><a href="index.html">Jorge Electricidad</a></h1>
      <h2 style="font-weight: bold; font-size: 1.5em; color: #fff;">Electricidad y Afines</h2>
      <h2><br>
        <span style="font-size: 110%;">Técnico Electricista</span>
      </h2>
      <h2>
        Trabajos con firma de UTE

      </h2>

      <h2 style="font-weight: bold; font-size: x-large;">
        Maldonado | Punta del Este
      </h2>
      <h2></h2>
      <h2></h2>
      <h2></h2>
      <h2></h2>
      <h2></h2>
      <nav id="navbar" class="navbar">

        <ul>
          <li><a class="nav-link" href="/">Inicio</a></li>
          <li><a class="nav-link" href="#services">Servicios</a></li>
          <li><a class="nav-link" href="#portfolio">Fotos</a></li>
          <li><a class="nav-link" href="#about">Sobre Mí</a></li>
          <li><a class="nav-link" href="#resume">Clientes</a></li>
          <li><a class="nav-link" href="#contact">Preguntas</a></li>
          <li><a class="nav-link" href="/blog">Blog</a></li>
        </ul>
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav><!-- .navbar -->

    </div>
  </header><!-- End Header -->

  <!-- ======= About Section ======= -->
  <section id="about" class="about">

    <!-- ======= About Me ======= -->
    <div class="about-me container">





      <div class="section-title">
        <h2>Acerca</h2>
      </div>

      <div class="row">
        <div class="col-lg-4" data-aos="fade-right">
          <img src="https://ellwinan.sirv.com/foto.png?format=webp" class="img-fluid"
            alt="Jorge, electricista profesional en Maldonado y Punta del Este">
        </div>
        <div class="col-lg-8 pt-4 pt-lg-0 content" data-aos="fade-left">
          <h3>Sobre Mí</h3>
          <p class="fst-italic">
            Me llamo Jorge, nativo de Maldonado, con más de 5
            años de experiencia brindando servicios en electricidad y afines de forma autónoma o trabajando para
            empresas,
            con formación en electrotecnia en UTU.
            Estoy a sus órdenes, no dude en contactarse.



        </div>
      </div>

    </div><!-- End About Me -->





  </section><!-- End About Section -->

  <!-- ======= OPINIONES SECCION ======= -->
  <section id="resume" class="resume">



    <div class="container">

      <br>

      <div class="resume-item">

        <div class="container">
          <blockquote class="blockquote text-center">
            <p class="mb-0"><em>Atender al cliente en su hogar puede llegar a ser un desafío, <br>
                tanto para uno como prestador de un servicio, como para el cliente, <br> más allá de eso, <br>
                creo que he sido afortunado de los clientes que me tocaron.</em></p>
          </blockquote>
        </div>
      </div><br>
      <div class="section-title">
        <h2>Clientes</h2>
        <p>Opiniones</p>
      </div><br>

      <div id="testimonials-container" class="row">
        <!-- Testimonios se cargarán aquí dinámicamente -->
      </div>


  </section><!-- End Resume Section -->

  <!-- ======= Services Section ======= -->
  <section id="services" class="services">


    <div class="container">

      <div class="section-title">
        <h2>Servicios</h2>
        <p></p>
      </div>

      <div class="row">
        <div class="col-lg-4 col-md-6 d-flex align-items-stretch">
          <div class="icon-box">
            <div class="icon"><i class="bx bxl-dribbble"></i></div>
            <h4><a href="">Electricidad</a></h4>
            <p>Obra Nueva ,Urgencias, Instalaciones en gral, , motores, bombas, calefones,
              Luminaria, automatismos, etc</p>
          </div>
        </div>

        <div class="col-lg-4 col-md-6 d-flex align-items-stretch mt-4 mt-md-0">
          <div class="icon-box">
            <div class="icon"><i class="bx bx-file"></i></div>
            <h4><a href="">Afines</a></h4>
            <p>portones eléctricos, sistema con domótica, control de accesos Edificios, video porteros, cableado de
              Internet y telefonìa etc.
            </p>
          </div>
        </div>

        <div class="col-lg-4 col-md-6 d-flex align-items-stretch mt-4 mt-lg-0">
          <div class="icon-box">
            <div class="icon"><i class="bx bx-tachometer"></i></div>
            <h4><a href="">Sistemas Vigilancia</a></h4>
            <p>Soluciones CCTV, Wifi, cámaras cableadas con DVR o wifi con NVR, càmaras con seguimiento,
              alarmas con aviso al telèfono</p>
          </div>
        </div>



      </div>

    </div>
  </section><!-- End Services Section -->


  <!-- ======= Portfolio Section ======= -->
  <section id="portfolio" class="portfolio">
    <div class="container">

      <div class="section-title">
        <h2>Fotos</h2>
        <p>Trabajos Realizados</p>
      </div>

      <div class="row">
        <div class="col-lg-12 d-flex justify-content-center">
          <ul id="portfolio-flters">
            <li data-filter="*" class="filter-active">Todas</li>
            <li data-filter=".filter-luminarias">Luminarias</li>
            <li data-filter=".filter-afines">Afines</li>
            <li data-filter=".filter-firma-ute">Firma UTE</li>
            <li data-filter=".filter-camaras-seguridad">Cámaras de Seguridad</li>
          </ul>
        </div>
      </div>

      <div class="row portfolio-container" data-aos="fade-up" data-aos-delay="200">
        <!-- Portfolio items will be loaded here by JavaScript -->
      </div>

    </div>
  </section><!-- End Portfolio Section -->

  <!-- ======= Contact Section ======= -->
  <section id="contact" class="contact">
    <div class="container">

      <div class="section-title">
        <h2>Preguntas</h2>
        <p>Frecuentes</p>
      </div>

      <div class="row mt-2">

        <div class="col-md-6 d-flex align-items-stretch">
          <div class="info-box">
            <i class="bx bx-map"></i>
            <h3>Mi Ubicaciòn</h3>
            <p>Maldonado, Punta del Este, Uruguay</p>
          </div>
        </div>

        <div class="col-md-6 mt-4 mt-md-0 d-flex align-items-stretch">
          <div class="info-box">
            <i class="bx bx-share-alt"></i>
            <h3>Redes Sociales</h3>
            <div class="social-links">
              <a href="https://www.linkedin.com/in/j-e-torres" class="linkedin"><i class="bi bi-linkedin"></i></a>
            </div>
          </div>
        </div>

        <div class="col-md-6 mt-4 d-flex align-items-stretch">
          <div class="info-box">
            <i class="bx bx-envelope"></i>
            <h3>Email</h3>
            <p>jorgitobaliero@gmail.com</p>
          </div>
        </div>
        <div class="col-md-6 mt-4 d-flex align-items-stretch">
          <div class="info-box">
            <i class="bx bx-phone-call"></i>
            <h3>Telèfono</h3>
            <p>094 588 012</p>
          </div>
        </div>
      </div>

      <style>
        .contact-form-group {
          display: none;
        }

        .form-error-message {
          color: #dc3545;
          /* Rojo de Bootstrap para errores */
          font-size: 0.875em;
          margin-top: 5px;
          display: none;
          /* Oculto por defecto */
          font-weight: bold;
        }
      </style>
      <form action="/api/send-email" method="post" role="form" id="miFormularioDeContacto" class="mt-4">
        <div class="row">
          <div class="col-md-12 form-group">
            <input type="text" name="name" class="form-control" id="name" placeholder="Tu Nombre">
            <div id="name-error" class="form-error-message"></div>
          </div>
        </div>

        <div class="form-group mt-3">
          <p style="font-weight: bold; margin-bottom: 10px;">¿Cómo prefieres que te contacte?</p>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" id="contact_whatsapp" name="contact_preference"
              value="whatsapp">
            <label class="form-check-label" for="contact_whatsapp">WhatsApp</label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" id="contact_email" name="contact_preference" value="email">
            <label class="form-check-label" for="contact_email">Email</label>
          </div>
          <div id="preference-error" class="form-error-message"></div>
        </div>

        <div id="whatsapp-group" class="contact-form-group form-group mt-3">
          <label for="whatsapp_number" class="form-label">Tu número de WhatsApp</label>
          <div class="input-group">
            <select class="form-select" id="whatsapp_country" name="whatsapp_country" style="max-width: 120px;">
              <option value="uy" selected>Uruguay</option>
              <option value="ar">Argentina</option>
            </select>
            <input type="tel" class="form-control" name="whatsapp_number" id="whatsapp_number"
              placeholder="Ej: 099123456">
          </div>
          <div id="whatsapp-error" class="form-error-message"></div>
        </div>

        <div id="email-group" class="contact-form-group form-group mt-3">
          <label for="email" class="form-label">Tu Email</label>
          <input type="email" class="form-control" name="email" id="email" placeholder="tu@email.com">
          <div id="email-error" class="form-error-message"></div>
        </div>

        <div class="form-group mt-3">
          <input type="text" class="form-control" name="subject" id="subject" placeholder="Asunto del Mensaje">
          <div id="subject-error" class="form-error-message"></div>
        </div>

        <div class="form-group mt-3">
          <textarea class="form-control" name="message" id="message" rows="5"
            placeholder="Tu mensaje (mínimo 15 caracteres)"></textarea>
          <div id="message-error" class="form-error-message"></div>
        </div>

        <div class="my-3">
          <div class="loading" style="display: none;">Cargando</div>
          <div class="error-message" style="display: none;"></div>
          <div class="sent-message" style="display: none;">Tu mensaje ha sido enviado. ¡Gracias!</div>
        </div>

        <div class="text-center"><button type="submit">Enviar Mensaje</button></div>
      </form>

    </div>
  </section><!-- End Contact Section -->

  <!-- <div class="credits"> -->
  <!-- All the links in the footer should remain intact. -->
  <!-- You can delete the links only if you purchased the pro version. -->
  <!-- Licensing information: https://bootstrapmade.com/license/ -->
  <!-- Purchase the pro version with working PHP email form: https://bootstrapmade.com/personal-free-resume-bootstrap-template/ -->
  <!-- Diseñado por <a href="https://uy.linkedin.com/in/j-e-torres">Jorge Electricidad</a> -->
  <!-- </div> -->

  <!-- Vendor JS Files -->
  <script defer src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
  <script defer src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script defer src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script defer src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script defer src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script defer src="assets/vendor/waypoints/noframework.waypoints.js"></script>


  <!-- Template Main JS File -->
  <script defer src="assets/js/main.js"></script>
  <script defer src="assets/js/load-testimonials.js"></script>

  <script defer src="https://unpkg.com/imagesloaded@5/imagesloaded.pkgd.min.js"></script>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const portfolioContainer = document.querySelector('.portfolio-container');

      if (portfolioContainer) {
        fetch('/api/get-portfolio-public')
          .then(response => {
            if (!response.ok) {
              throw new Error(`HTTP error! status: ${response.status}`);
            }
            return response.json();
          })
          .then(data => {
            let content = '';
            const categoryNames = {
              "filter-luminarias": "Luminarias",
              "filter-afines": "Afines",
              "filter-firma-ute": "Firma UTE",
              "filter-camaras-seguridad": "Cámaras de Seguridad"
            };
            data.forEach(item => {
              const categoryName = categoryNames[item.category] || "General";
              // Construir una URL optimizada para la miniatura
              const thumbnailUrl = `${item.imageUrl}${item.imageUrl.includes('?') ? '&' : '?'}w=400&h=400&format=webp&q=85`;
              
              content += `
                <div class="col-lg-4 col-md-6 col-sm-6 portfolio-item ${item.category}">
                  <div class="portfolio-wrap">
                    <img src="${thumbnailUrl}" class="img-fluid" alt="${item.altText}" width="400" height="400" loading="lazy" decoding="async">
                    <div class="portfolio-info">
                      <h4>Jorge Electricidad</h4>
                      <p>${categoryName}</p>
                      <div class="portfolio-links">
                        <a href="${item.imageUrl}" data-gallery="portfolioGallery" class="portfolio-lightbox" title="${item.altText}"><i class="bx bx-plus"></i></a>
                      </div>
                    </div>
                  </div>
                </div>
              `;
            });
            portfolioContainer.innerHTML = content;

            // Initialize Isotope and GLightbox AFTER all images are loaded
            imagesLoaded(portfolioContainer).on('always', function () {
              const portfolioIsotope = new Isotope(portfolioContainer, {
                itemSelector: '.portfolio-item',
                layoutMode: 'fitRows'
              });

              const portfolioFilters = document.querySelectorAll('#portfolio-flters li');
              portfolioFilters.forEach(function (el) {
                el.addEventListener('click', function (e) {
                  e.preventDefault();
                  portfolioFilters.forEach(function (filterEl) {
                    filterEl.classList.remove('filter-active');
                  });
                  this.classList.add('filter-active');
                  portfolioIsotope.arrange({
                    filter: this.getAttribute('data-filter')
                  });
                });
              });

              const lightbox = GLightbox({
                selector: '.portfolio-lightbox'
              });
            });

          })
          .catch(e => {
            console.error('Error fetching or parsing portfolio data:', e);
            portfolioContainer.innerHTML = '<p>Error al cargar la galería de trabajos.</p>';
          });
      }
    });
  </script>

  <script>
      document.addEventListener('DOMContentLoaded', function () {
        // --- ELEMENTOS DEL DOM ---
        const contactForm = document.getElementById('miFormularioDeContacto');
        const contactWhatsapp = document.getElementById('contact_whatsapp');
        const contactEmail = document.getElementById('contact_email');
        const whatsappGroup = document.getElementById('whatsapp-group');
        const emailGroup = document.getElementById('email-group');

        // --- LÓGICA DE VISUALIZACIÓN ---
        contactWhatsapp.addEventListener('change', () => {
          whatsappGroup.style.display = contactWhatsapp.checked ? 'block' : 'none';
        });
        contactEmail.addEventListener('change', () => {
          emailGroup.style.display = contactEmail.checked ? 'block' : 'none';
        });

        // --- LÓGICA DE VALIDACIÓN ---
        contactForm.addEventListener('submit', function (event) {
          // Prevenir el envío por defecto para validar primero
          event.preventDefault();

          let isValid = true;

          // --- Resetear errores previos ---
          document.querySelectorAll('.form-error-message').forEach(el => el.style.display = 'none');

          // --- VALIDACIONES ---
          const name = document.getElementById('name');
          if (name.value.trim().length < 3) {
            document.getElementById('name-error').textContent = 'Por favor, ingresa un nombre válido (mínimo 3 caracteres).';
            document.getElementById('name-error').style.display = 'block';
            isValid = false;
          }

          const subject = document.getElementById('subject');
          if (subject.value.trim().length < 5) {
            document.getElementById('subject-error').textContent = 'Por favor, ingresa un asunto (mínimo 5 caracteres).';
            document.getElementById('subject-error').style.display = 'block';
            isValid = false;
          }

          const message = document.getElementById('message');
          if (message.value.trim().length < 15) {
            document.getElementById('message-error').textContent = 'El mensaje debe tener al menos 15 caracteres.';
            document.getElementById('message-error').style.display = 'block';
            isValid = false;
          }

          if (!contactWhatsapp.checked && !contactEmail.checked) {
            document.getElementById('preference-error').textContent = 'Debes seleccionar al menos una forma de contacto.';
            document.getElementById('preference-error').style.display = 'block';
            isValid = false;
          }

          if (contactWhatsapp.checked) {
            const country = document.getElementById('whatsapp_country').value;
            const number = document.getElementById('whatsapp_number').value.trim();
            const whatsappError = document.getElementById('whatsapp-error');
            let phoneRegex;
            if (country === 'uy') {
              phoneRegex = /^09[1-9]\d{6}$/;
              if (!phoneRegex.test(number)) {
                whatsappError.textContent = 'El número de Uruguay debe tener el formato 09X XXX XXX (9 dígitos).';
                whatsappError.style.display = 'block';
                isValid = false;
              }
            } else if (country === 'ar') {
              phoneRegex = /^\d{10}$/;
              if (!phoneRegex.test(number)) {
                whatsappError.textContent = 'El número de Argentina debe tener 10 dígitos (código de área + número).';
                whatsappError.style.display = 'block';
                isValid = false;
              }
            }
          }

          if (contactEmail.checked) {
            const email = document.getElementById('email').value.trim();
            const emailError = document.getElementById('email-error');
            const emailRegex = /^[\w.]{5,}@[\w.-]+\.[a-zA-Z]{2,}$/;
            if (!emailRegex.test(email)) {
              emailError.textContent = 'Por favor, ingresa un email válido (ej: nombre@dominio.com).';
              emailError.style.display = 'block';
              isValid = false;
            }
          }

          // --- ENVÍO DEL FORMULARIO ---
          if (isValid) {
            const thisForm = this;
            const action = thisForm.getAttribute('action');

            // Convertir FormData a un objeto JSON
            const formData = new FormData(thisForm);
            const formObject = Object.fromEntries(formData.entries());
            // Asegurarse de que las preferencias de contacto se envíen como un array
            formObject.contact_preference = formData.getAll('contact_preference');

            thisForm.querySelector('.loading').classList.add('d-block');
            thisForm.querySelector('.error-message').classList.remove('d-block');
            thisForm.querySelector('.sent-message').classList.remove('d-block');

            fetch(action, {
              method: 'POST',
              body: new URLSearchParams(formData) // Envía los datos en el formato correcto para la API
            })
              .then(response => response.json()) // Siempre espera una respuesta JSON
              .then(data => {
                thisForm.querySelector('.loading').classList.remove('d-block');
                if (data.success) {
                  // Caso de éxito: muestra el mensaje de enviado
                  thisForm.querySelector('.sent-message').classList.add('d-block');
                  thisForm.reset();
                  whatsappGroup.style.display = 'none';
                  emailGroup.style.display = 'none';
                } else {
                  // Caso de error controlado por el servidor (success: false)
                  const errorMessageContainer = thisForm.querySelector('.error-message');
                  errorMessageContainer.textContent = data.error || 'Ocurrió un error al procesar la solicitud.';
                  errorMessageContainer.classList.add('d-block');
                }
              })
              .catch(error => {
                // Caso de error de red o fallo en el servidor (ej. 500)
                thisForm.querySelector('.loading').classList.remove('d-block');
                const errorMessageContainer = thisForm.querySelector('.error-message');
                errorMessageContainer.textContent = 'Error de conexión. Por favor, inténtalo de nuevo.';
                errorMessageContainer.classList.add('d-block');
                console.error('Error en el envío del formulario:', error);
              });
          }
        });
      });
  </script>

  <!-- Comentario de prueba para Git -->

  <!-- Vercel Speed Insights -->
  <script defer src="/_vercel/speed-insights/script.js"></script>
  <!-- Last update: Fix contact form visibility -->
</body>

</html>